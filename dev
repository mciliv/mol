!/bin/bash

# Simple development script with auto-reload
echo "ğŸš€ Starting development server with auto-reload..."

# Kill any existing processes
pkill -f "node.*server.js" 2>/dev/null || true
pkill -f "nodemon" 2>/dev/null || true
sleep 1

# Start the server with nodemon watching frontend files
echo "ğŸ“ Watching: backend/ and frontend/ directories"
echo "ğŸ”„ Auto-reload: Active"
echo "ğŸŒ Server: http://localhost:8080"
echo ""

exec npx nodemon \
    --watch backend/ \
    --watch frontend/ \
    --ext js,html,css \
    --ignore node_modules/ \
    --ignore test/ \
    --delay 1000ms \
    backend/api/server.js 